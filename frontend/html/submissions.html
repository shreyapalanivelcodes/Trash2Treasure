<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Submissions - Trash2Treasure</title>
<link rel="stylesheet" href="/css/style.css">
<style>
/* ====== Submissions Page Styles ====== */
.container {
  max-width: 1000px !important;
}

.submissions-header {
  text-align: center;
  margin-bottom: 40px;
}

.submissions-header h1 {
  color: #ffffff;
  font-size: 2.2rem;
  margin-bottom: 10px;
  font-weight: 700;
  text-shadow: 0 2px 4px rgba(0,0,0,0.7);
  letter-spacing: 0.5px;
}

.submissions-header p {
  color: #ffffff;
  font-size: 1.1rem;
  font-weight: 500;
  text-shadow: 0 1px 3px rgba(0,0,0,0.6);
  opacity: 0.95;
}

/* Filter Section */
.filter-section {
  display: flex;
  gap: 15px;
  margin-bottom: 30px;
  flex-wrap: wrap;
  align-items: center;
}

.filter-group {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.filter-group label {
  color: #719649;
  font-size: 0.9rem;
  font-weight: 600;
}

.filter-group select {
  padding: 8px 12px;
  border: 2px solid #81c784;
  border-radius: 6px;
  background-color: rgba(46, 60, 46, 0.8);
  color: #e0e6d4;
  font-size: 0.9rem;
  transition: all 0.3s ease;
  appearance: none;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12"><path fill="%2381c784" d="M2 4l4 4 4-4z"/></svg>');
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 12px;
  padding-right: 35px;
}

.filter-group select:focus {
  outline: none;
  border-color: #66bb6a;
  background-color: rgba(46, 60, 46, 0.9);
  color: #d6e8c3;
  box-shadow: 0 0 0 2px rgba(102, 187, 106, 0.2);
}

/* Fix dropdown options visibility */
.filter-group select option {
  background-color: #2e3c2e;
  color: #e0e6d4;
  padding: 8px;
}

.filter-group select option:hover {
  background-color: #81c784;
  color: #1b2a1b;
}

.filter-group select option:checked {
  background-color: #66bb6a;
  color: #1b2a1b;
  font-weight: 600;
}

.refresh-btn {
  padding: 10px 20px;
  background: linear-gradient(135deg, #81c784, #66bb6a);
  color: #1b2a1b;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  margin-left: auto;
  box-shadow: 0 4px 15px rgba(129, 199, 132, 0.2);
  position: relative;
  overflow: hidden;
}

.refresh-btn:hover {
  background: linear-gradient(135deg, #66bb6a, #4caf50);
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 8px 25px rgba(129, 199, 132, 0.4);
}

.refresh-btn:active {
  transform: translateY(-1px) scale(0.98);
  transition: all 0.1s;
}

/* Submissions Grid */
.submissions-grid {
  display: grid;
  gap: 20px;
  margin-bottom: 20px;
}

.submission-card {
  background: rgba(129, 199, 132, 0.1);
  border: 1px solid #81c784;
  border-radius: 12px;
  padding: 20px;
  transition: all 0.3s ease;
  cursor: pointer;
}

.submission-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(129, 199, 132, 0.2);
  border-color: #66bb6a;
}

.submission-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 15px;
  flex-wrap: wrap;
  gap: 10px;
}

.submission-type {
  display: inline-block;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.submission-type.contact {
  background: rgba(33, 150, 243, 0.3);
  color: #64b5f6;
  border: 1px solid #2196f3;
}

.submission-type.feedback {
  background: rgba(255, 193, 7, 0.3);
  color: #ffb74d;
  border: 1px solid #ff9800;
}

.submission-type.support {
  background: rgba(244, 67, 54, 0.3);
  color: #ff8a80;
  border: 1px solid #f44336;
}

.submission-status {
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 600;
  text-transform: uppercase;
}

.submission-status.open {
  background: rgba(76, 175, 80, 0.3);
  color: #81c784;
  border: 1px solid #4caf50;
}

.submission-status.in-progress {
  background: rgba(255, 193, 7, 0.3);
  color: #ffb74d;
  border: 1px solid #ff9800;
}

.submission-status.resolved {
  background: rgba(33, 150, 243, 0.3);
  color: #64b5f6;
  border: 1px solid #2196f3;
}

.submission-status.closed {
  background: rgba(158, 158, 158, 0.3);
  color: #bdbdbd;
  border: 1px solid #9e9e9e;
}

.submission-subject {
  color: #d6e8c3;
  font-size: 1.2rem;
  font-weight: 600;
  margin-bottom: 8px;
}

.submission-message {
  color: #c8e6d4;
  line-height: 1.5;
  margin-bottom: 15px;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.submission-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.9rem;
  color: #aaa;
  margin-top: 10px;
  border-top: 1px solid rgba(129, 199, 132, 0.2);
  padding-top: 10px;
}

.submission-date {
  display: flex;
  align-items: center;
  gap: 5px;
}

/* Admin Response */
.admin-response {
  margin-top: 15px;
  padding: 15px;
  background: rgba(76, 175, 80, 0.1);
  border: 1px solid #4caf50;
  border-radius: 8px;
}

.admin-response-header {
  color: #81c784;
  font-weight: 600;
  margin-bottom: 8px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.admin-response-message {
  color: #c8e6d4;
  line-height: 1.5;
  margin-bottom: 10px;
}

.admin-response-meta {
  font-size: 0.85rem;
  color: #aaa;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Loading and Empty States */
.loading-state {
  text-align: center;
  padding: 60px 20px;
  color: #c8e6d4;
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 4px solid rgba(129, 199, 132, 0.3);
  border-left-color: #81c784;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto 20px;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.empty-state {
  text-align: center;
  padding: 60px 20px;
  color: #c8e6d4;
}

.empty-state-icon {
  font-size: 4rem;
  margin-bottom: 20px;
  opacity: 0.5;
}

.empty-state h3 {
  color: #d6e8c3;
  margin-bottom: 10px;
}

.empty-state p {
  margin-bottom: 20px;
}

.empty-state .btn {
  display: inline-block;
  padding: 12px 24px;
  background: linear-gradient(135deg, #81c784, #66bb6a);
  color: #1b2a1b;
  text-decoration: none;
  border-radius: 8px;
  font-weight: 600;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 15px rgba(129, 199, 132, 0.2);
  position: relative;
  overflow: hidden;
}

.empty-state .btn:hover {
  background: linear-gradient(135deg, #66bb6a, #4caf50);
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 8px 25px rgba(129, 199, 132, 0.4);
}

/* Error State */
.error-state {
  text-align: center;
  padding: 40px 20px;
  color: #ff8a80;
  background: rgba(244, 67, 54, 0.1);
  border: 1px solid #f44336;
  border-radius: 8px;
  margin: 20px 0;
}

/* Responsive Design */
@media (max-width: 768px) {
  .submissions-container {
    margin: 10px;
    padding: 20px;
  }
  
  .filter-section {
    flex-direction: column;
    align-items: stretch;
  }
  
  .refresh-btn {
    margin-left: 0;
    align-self: center;
  }
  
  .submission-header {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .submission-meta {
    flex-direction: column;
    align-items: flex-start;
    gap: 5px;
  }
}
</style>
</head>
<body>

<header>
  <h1>‚ôªÔ∏è Trash2Treasure</h1>
  <nav id="navbar">
    <a href="index.html" class="main-btn">Home</a>
    <a href="upload.html" class="main-btn">Upload</a>
    <a href="leaderboard.html" class="main-btn">Leaderboard</a>
    <a href="contact.html" class="main-btn">Contact</a>
    <a href="submissions.html" class="main-btn active">My Submissions</a>
    <a href="profile.html" class="main-btn profile-btn" style="display: none;">My Profile</a>
    <button class="logout-btn" id="logoutBtn" style="display: none;">Logout</button>
    <a href="login.html" class="main-btn login-btn">Login</a>
    <a href="signup.html" class="main-btn signup-btn">Signup</a>
  </nav>
</header>

<main>
  <div class="container">
    <div class="submissions-header">
      <h1>My Submissions üìã</h1>
      <p>Track your contact messages, feedback, and support requests</p>
    </div>

    <!-- Filter Section -->
    <div class="filter-section">
      <div class="filter-group">
        <label for="type-filter">Type</label>
        <select id="type-filter">
          <option value="" style="color: #aaa;">All Types</option>
          <option value="contact">Contact</option>
          <option value="feedback">Feedback</option>
          <option value="support">Support</option>
        </select>
      </div>
      
      <div class="filter-group">
        <label for="status-filter">Status</label>
        <select id="status-filter">
          <option value="" style="color: #aaa;">All Status</option>
          <option value="open">Open</option>
          <option value="in-progress">In Progress</option>
          <option value="resolved">Resolved</option>
          <option value="closed">Closed</option>
        </select>
      </div>
      
      <button class="refresh-btn" id="refresh-btn">üîÑ Refresh</button>
    </div>

    <!-- Content Area -->
    <div id="content-area">
      <!-- Loading State -->
      <div id="loading-state" class="loading-state">
        <div class="loading-spinner"></div>
        <p>Loading your submissions...</p>
      </div>
    </div>
  </div>
</main>

<footer>
  <p>¬© 2025 Trash2Treasure | Building a sustainable future ‚ôªÔ∏è</p>
</footer>

<div id="tipPopup"></div>

<script src="js/tips.js"></script>
<script src="js/submissions.js"></script>
<script>
// ===== NAVBAR FUNCTIONALITY =====
document.addEventListener('DOMContentLoaded', function() {
    const token = localStorage.getItem("token");
    const user = JSON.parse(localStorage.getItem("user") || "null");
    
    const logoutBtn = document.getElementById("logoutBtn");
    const loginBtn = document.querySelector(".login-btn");
    const signupBtn = document.querySelector(".signup-btn");
    const profileBtn = document.querySelector(".profile-btn");
    const submissionsBtn = document.querySelector(".submissions-btn");
    
    // ==== Navbar update ====
    if (token && user) {
        logoutBtn.style.display = "block";
        profileBtn.style.display = "block";
        submissionsBtn.style.display = "block";
        loginBtn.style.display = "none";
        signupBtn.style.display = "none";
        profileBtn.textContent = `My Profile (${user.name})`;
    } else {
        logoutBtn.style.display = "none";
        profileBtn.style.display = "none";
        submissionsBtn.style.display = "none";
        loginBtn.style.display = "block";
        signupBtn.style.display = "block";
    }
    
    // ==== Logout button ====
    logoutBtn.addEventListener("click", () => {
        localStorage.removeItem("token");
        localStorage.removeItem("user");
        window.location.href = "login.html";
    });
});
</script>

</body>
</html>